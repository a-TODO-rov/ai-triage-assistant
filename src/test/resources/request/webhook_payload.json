{
  "action" : "opened",
  "issue" : {
    "url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2",
    "repository_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant",
    "labels_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2/labels{/name}",
    "comments_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2/comments",
    "events_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2/events",
    "html_url" : "https://github.com/a-TODO-rov/ai-triage-assistant/issues/2",
    "id" : 3228322419,
    "node_id" : "I_kwDOPK4woM7AbEpz",
    "number" : 2,
    "title" : "---TEST2---",
    "user" : {
      "login" : "a-TODO-rov",
      "id" : 218597349,
      "node_id" : "U_kgDODQeH5Q",
      "avatar_url" : "https://avatars.githubusercontent.com/u/218597349?v=4",
      "gravatar_id" : "",
      "url" : "https://api.github.com/users/a-TODO-rov",
      "html_url" : "https://github.com/a-TODO-rov",
      "followers_url" : "https://api.github.com/users/a-TODO-rov/followers",
      "following_url" : "https://api.github.com/users/a-TODO-rov/following{/other_user}",
      "gists_url" : "https://api.github.com/users/a-TODO-rov/gists{/gist_id}",
      "starred_url" : "https://api.github.com/users/a-TODO-rov/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/a-TODO-rov/subscriptions",
      "organizations_url" : "https://api.github.com/users/a-TODO-rov/orgs",
      "repos_url" : "https://api.github.com/users/a-TODO-rov/repos",
      "events_url" : "https://api.github.com/users/a-TODO-rov/events{/privacy}",
      "received_events_url" : "https://api.github.com/users/a-TODO-rov/received_events",
      "type" : "User",
      "user_view_type" : "public",
      "site_admin" : false
    },
    "labels" : [ ],
    "state" : "open",
    "locked" : false,
    "assignee" : null,
    "assignees" : [ ],
    "milestone" : null,
    "comments" : 0,
    "created_at" : "2025-07-14T10:53:57Z",
    "updated_at" : "2025-07-14T10:53:57Z",
    "closed_at" : null,
    "author_association" : "OWNER",
    "active_lock_reason" : null,
    "sub_issues_summary" : {
      "total" : 0,
      "completed" : 0,
      "percent_completed" : 0
    },
    "body" : "## Bug Report\nWhen migrating a slot, setting the slot to a \"migrating\" state may occasionally trigger MOVED errors when accessing keys in that slot. I've noticed that Issue #1218 on the Lettuce GitHub repository (https://github.com/redis/lettuce/issues/1218) describes a similar problem. However, the fix for this issue appears ineffective because in DefaultEndpoint.writeToChannelAndFlush, even when a command list is passed in, channelWrite still sends each command individually. This implementation may lead to a write race condition.\n\n```java\nprivate void writeToChannelAndFlush(Collection<? extends RedisCommand<?, ?, ?>> commands) {\n    QUEUE_SIZE.addAndGet(this, commands.size());\n    \n    if (reliability == Reliability.AT_MOST_ONCE) {\n        // Cancel on exceptions and remove from queue (no housekeeping)\n        for (RedisCommand<?, ?, ?> command : commands) {\n            channelWrite(command).addListener(AtMostOnceWriteListener.newInstance(this, command));\n        }\n    }\n    \n    if (reliability == Reliability.AT_LEAST_ONCE) {\n        // Commands remain in queue for reconnect retries\n        for (RedisCommand<?, ?, ?> command : commands) {\n            channelWrite(command).addListener(RetryListener.newInstance(this, command));\n        }\n    }\n    \n    channelFlush();\n}\n```\n\n#### Expected behavior/code\n\n<!-- A clear and concise description of what you expected to happen (or code). -->\n\n\n#### Environment\n\n- Lettuce version(s): [6.3.2.RELEASE]\n- Redis version: [6.2.13]\n\nIf this is indeed a bug, i would like to send a pr.\n\n",
    "reactions" : {
      "url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2/reactions",
      "total_count" : 0,
      "+1" : 0,
      "-1" : 0,
      "laugh" : 0,
      "hooray" : 0,
      "confused" : 0,
      "heart" : 0,
      "rocket" : 0,
      "eyes" : 0
    },
    "timeline_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/2/timeline",
    "performed_via_github_app" : null,
    "state_reason" : null
  },
  "repository" : {
    "id" : 1018048672,
    "node_id" : "R_kgDOPK4woA",
    "name" : "ai-triage-assistant",
    "full_name" : "a-TODO-rov/ai-triage-assistant",
    "private" : false,
    "owner" : {
      "login" : "a-TODO-rov",
      "id" : 218597349,
      "node_id" : "U_kgDODQeH5Q",
      "avatar_url" : "https://avatars.githubusercontent.com/u/218597349?v=4",
      "gravatar_id" : "",
      "url" : "https://api.github.com/users/a-TODO-rov",
      "html_url" : "https://github.com/a-TODO-rov",
      "followers_url" : "https://api.github.com/users/a-TODO-rov/followers",
      "following_url" : "https://api.github.com/users/a-TODO-rov/following{/other_user}",
      "gists_url" : "https://api.github.com/users/a-TODO-rov/gists{/gist_id}",
      "starred_url" : "https://api.github.com/users/a-TODO-rov/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/a-TODO-rov/subscriptions",
      "organizations_url" : "https://api.github.com/users/a-TODO-rov/orgs",
      "repos_url" : "https://api.github.com/users/a-TODO-rov/repos",
      "events_url" : "https://api.github.com/users/a-TODO-rov/events{/privacy}",
      "received_events_url" : "https://api.github.com/users/a-TODO-rov/received_events",
      "type" : "User",
      "user_view_type" : "public",
      "site_admin" : false
    },
    "html_url" : "https://github.com/a-TODO-rov/ai-triage-assistant",
    "description" : "An intelligent assistant that automates triaging for GitHub issues",
    "fork" : false,
    "url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant",
    "forks_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/forks",
    "keys_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/keys{/key_id}",
    "collaborators_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/collaborators{/collaborator}",
    "teams_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/teams",
    "hooks_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/hooks",
    "issue_events_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/events{/number}",
    "events_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/events",
    "assignees_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/assignees{/user}",
    "branches_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/branches{/branch}",
    "tags_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/tags",
    "blobs_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/git/blobs{/sha}",
    "git_tags_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/git/tags{/sha}",
    "git_refs_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/git/refs{/sha}",
    "trees_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/git/trees{/sha}",
    "statuses_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/statuses/{sha}",
    "languages_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/languages",
    "stargazers_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/stargazers",
    "contributors_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/contributors",
    "subscribers_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/subscribers",
    "subscription_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/subscription",
    "commits_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/commits{/sha}",
    "git_commits_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/git/commits{/sha}",
    "comments_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/comments{/number}",
    "issue_comment_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues/comments{/number}",
    "contents_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/contents/{+path}",
    "compare_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/compare/{base}...{head}",
    "merges_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/merges",
    "archive_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/{archive_format}{/ref}",
    "downloads_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/downloads",
    "issues_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/issues{/number}",
    "pulls_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/pulls{/number}",
    "milestones_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/milestones{/number}",
    "notifications_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/notifications{?since,all,participating}",
    "labels_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/labels{/name}",
    "releases_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/releases{/id}",
    "deployments_url" : "https://api.github.com/repos/a-TODO-rov/ai-triage-assistant/deployments",
    "created_at" : "2025-07-11T14:17:01Z",
    "updated_at" : "2025-07-14T10:36:53Z",
    "pushed_at" : "2025-07-14T10:36:50Z",
    "git_url" : "git://github.com/a-TODO-rov/ai-triage-assistant.git",
    "ssh_url" : "git@github.com:a-TODO-rov/ai-triage-assistant.git",
    "clone_url" : "https://github.com/a-TODO-rov/ai-triage-assistant.git",
    "svn_url" : "https://github.com/a-TODO-rov/ai-triage-assistant",
    "homepage" : null,
    "size" : 35,
    "stargazers_count" : 0,
    "watchers_count" : 0,
    "language" : "Java",
    "has_issues" : true,
    "has_projects" : true,
    "has_downloads" : true,
    "has_wiki" : true,
    "has_pages" : false,
    "has_discussions" : false,
    "forks_count" : 0,
    "mirror_url" : null,
    "archived" : false,
    "disabled" : false,
    "open_issues_count" : 1,
    "license" : null,
    "allow_forking" : true,
    "is_template" : false,
    "web_commit_signoff_required" : false,
    "topics" : [ ],
    "visibility" : "public",
    "forks" : 0,
    "open_issues" : 1,
    "watchers" : 0,
    "default_branch" : "main"
  },
  "sender" : {
    "login" : "a-TODO-rov",
    "id" : 218597349,
    "node_id" : "U_kgDODQeH5Q",
    "avatar_url" : "https://avatars.githubusercontent.com/u/218597349?v=4",
    "gravatar_id" : "",
    "url" : "https://api.github.com/users/a-TODO-rov",
    "html_url" : "https://github.com/a-TODO-rov",
    "followers_url" : "https://api.github.com/users/a-TODO-rov/followers",
    "following_url" : "https://api.github.com/users/a-TODO-rov/following{/other_user}",
    "gists_url" : "https://api.github.com/users/a-TODO-rov/gists{/gist_id}",
    "starred_url" : "https://api.github.com/users/a-TODO-rov/starred{/owner}{/repo}",
    "subscriptions_url" : "https://api.github.com/users/a-TODO-rov/subscriptions",
    "organizations_url" : "https://api.github.com/users/a-TODO-rov/orgs",
    "repos_url" : "https://api.github.com/users/a-TODO-rov/repos",
    "events_url" : "https://api.github.com/users/a-TODO-rov/events{/privacy}",
    "received_events_url" : "https://api.github.com/users/a-TODO-rov/received_events",
    "type" : "User",
    "user_view_type" : "public",
    "site_admin" : false
  }
}